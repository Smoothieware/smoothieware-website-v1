---
permalink: /m23
---


## {::nomarkdown}<mcode>M23</mcode>{:/nomarkdown}: Select File

Issuing an {::nomarkdown}<mcode>M23</mcode>{:/nomarkdown} selects a file from the SD card that will be used for printing with the {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} command.

The file will remain "selected" and all subsequent {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} commands will print that file until a different file is selected.

### Error Handling

If the file does not exist on the SD card, an error will be returned (ERROR?).

### Restarting Files

The {::nomarkdown}<mcode>M23</mcode>{:/nomarkdown} command can be used to restart a file from the beginning.

Use {::nomarkdown}<mcode>M23</mcode>{:/nomarkdown} to select/reset the file, then {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} to start printing from the beginning.

{::nomarkdown}
<sl-alert variant="neutral" open>
  <sl-icon slot="icon" name="info-circle"></sl-icon>
  <strong>Print:</strong> In this context, "print" refers to running a job on any Smoothie-controlled device such as 3D printer, laser engraver/cutter, CNC router, etc.
</sl-alert>
{:/nomarkdown}

## Format

The command is used as such:

```
M23 filename.gco
```

Which means: Select the file to be used in the subsequent {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} print/resume command.



When the file is selected, the system verifies that the file exists and is accessible on the SD card. In V2, if the file cannot be opened, an error will be returned with details about why the selection failed.



## Parameters

| Parameter | Usage | Example |
| --------- | ----- | ------- |
| `filename` | The file, on the SD card, will be printed in the subsequent M24 command | M20 myGcodeFile.gco |

### Filename Support

The `filename` parameter identifies the file to be used by subsequent {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} commands.

Smoothie supports both long filenames and [8.3 format](https://en.wikipedia.org/wiki/8.3_filename).

## Example

If your SD card contents were:

- **config.txt**
- **firmware.cur**
- **Readme.txt**
- **myGcode.gco**

This means if you command:

```
M23 myGcode.gco
```

The file myGcode.gco would be queued for subsequent printing with the {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} command.

To actually start printing, you would then issue:

```
M24
```

## Configuration

The {::nomarkdown}<mcode>M23</mcode>{:/nomarkdown} command requires no special configuration settings.

The SD card must be properly inserted and contain the file you're trying to select.



### Macro Files Integration

When using M23 to select and M24 to start files, the Player module will automatically execute macro files if they exist:

- **resume.g**: Executed when resuming a paused print (via {::nomarkdown}<mcode>M24</mcode>{:/nomarkdown} after pause). Useful for extruder priming or other resume procedures.
- **suspend.g**: May be executed during suspend operations for custom handling.

Place these macro files in the root directory of the SD card if you want to use them.



## Further reading

These resources are used as references:

- [RepRap G-code M20](http://reprap.org/wiki/G-code#M20:_List_SD_card)
- [RepRap G-code M-commands](http://reprap.org/wiki/G-code#M-commands)
- [Go to other M-codes](supported-g-codes)
