---
permalink: /m20
---


## {::nomarkdown}<mcode>M20</mcode>{:/nomarkdown}: List SD card

{::nomarkdown}
<review id="m20:v1-v2-intro">
<proposal>
{:/nomarkdown}

{::nomarkdown}
<versioned orientation="vertical">
<v1>
{:/nomarkdown}

{::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} lists the contents of the SD card connected to your Smoothieboard.

When you issue an {::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} command, Smoothie reads the SD card contents and outputs the file list to the serial port.

A properly connected host will receive and display the Smoothie's SD card directory to its console.

{::nomarkdown}
</v1>
<v2>
{:/nomarkdown}

{::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} lists the contents of the SD card connected to your Smoothie controller.

V2 uses modern SDIO drivers for faster SD card access. When you issue an {::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} command, Smoothie reads the SD card and outputs the file list to the serial port or connected interface.

A properly connected host will receive and display the Smoothie's SD card directory to its console.

{::nomarkdown}
</v2>
</versioned>
{:/nomarkdown}

</proposal>
<original>
{:/nomarkdown}

{::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} lists the contents of the SD card connected to your Smoothieboard.

When you issue an {::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} command, Smoothie reads the SD card contents and outputs the file list to the serial port.

A properly connected host will receive and display the Smoothie's SD card directory to its console.

{::nomarkdown}
</original>
</review>
{:/nomarkdown}

### Troubleshooting

To verify and debug your Smoothie's serial connection, try the troubleshooting guide in the [debug section](troubleshooting).

{::nomarkdown}
<sl-alert variant="neutral" open>
  <sl-icon slot="icon" name="info-circle"></sl-icon>
  <strong>Note:</strong> Special considerations may apply for Ethernet connections. Please refer to the <a href="network">network documentation</a> for more information.
</sl-alert>
{:/nomarkdown}

## Format

The command is used as such:

```gcode
M20 [S] [P]
```

**Which means:** output the contents of SD card to serial port while using `S` to define the format and `P` defines the directory to list.

## Parameters

| Parameter | Usage | Example |
| --------- | ----- | ------- |
| `S` | Style: Defines the format used to present the output | `M20 S0` |
| `P` | Directory: Defines the directory that will be listed | `M20` |

### Smoothie Implementation

The `S` parameter when used with Smoothie supports Style 0 only, which is the default.

If you do not include `S`, it will assume `S0`.

The `P` parameter is not supported by Smoothie.

Smoothie always lists the SD card's root directory.

## Example

If your SD card contents were:

- config.txt
- firmware.cur
- Readme.txt
- myGcode.gcode

This means if you command:

```gcode
M20 S0
```

or

```gcode
M20 S0 P1
```

or

```gcode
M20 S1 P1
```

or

```gcode
M20 P2
```

...they will all print the following to the connected console:

```
Ok
config.txt
firmware.cur
Readme.txt
myGcode.gcode
```

{::nomarkdown}
<review id="m20:configuration-version-notes">
<proposal>
{:/nomarkdown}

## Configuration

The {::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} command requires no special configuration settings.

{::nomarkdown}
<versioned orientation="vertical">
<v1>
{:/nomarkdown}

It works as long as the SD card is properly inserted and recognized by Smoothieboard.

Ensure your SD card is:
- Properly formatted (FAT32 recommended)
- Inserted fully into the SD card slot
- Not experiencing read errors

{::nomarkdown}
</v1>
<v2>
{:/nomarkdown}

It works as long as the SD card is properly inserted and recognized by the Smoothie controller.

V2 provides improved SD card stability through modern SDIO drivers. Ensure your SD card is:
- Properly formatted (FAT32 recommended)
- Inserted fully into the microSD card slot
- High-quality and not corrupted
- Using modern microSD cards for best compatibility

{::nomarkdown}
</v2>
</versioned>
{:/nomarkdown}

</proposal>
<original>
{:/nomarkdown}

## Configuration

The {::nomarkdown}<mcode>M20</mcode>{:/nomarkdown} command requires no special configuration settings.

It works as long as the SD card is properly inserted and recognized by Smoothieboard.

{::nomarkdown}
</original>
</review>
{:/nomarkdown}

## Further reading

These resources are used as references:

- [RepRap G-code M20: List SD card](http://reprap.org/wiki/G-code#M20:_List_SD_card)
- [RepRap G-code M-commands](http://reprap.org/wiki/G-code#M-commands)
- [Supported G-codes](supported-g-codes)
