---
permalink: /m5
---

{::nomarkdown}
# <mcode>M5</mcode> G-code

<mcode>M5</mcode> stops the spindle's rotation.
{:/nomarkdown}

### What is a Spindle?

A spindle is a controlled motor that turns a tool (such as an endmill) at a given speed to allow it to remove material from the workpiece.

This is commonly used in CNC milling operations.

### Related Commands

{::nomarkdown}
<mcode>M5</mcode>'s counterpart is the [<mcode>M3</mcode>](m3) command which is used to start the spindle and specify its rotation speed.
{:/nomarkdown}

{::nomarkdown}
<sl-alert variant="neutral" open>
  <sl-icon slot="icon" name="info-circle"></sl-icon>
  <strong>Safety Note:</strong> Always use <mcode>M5</mcode> to stop the spindle before changing tools or when the job is complete.
</sl-alert>
{:/nomarkdown}

## Format

The command is used as such:

```gcode
M5
```

Which means: stop the spindle's rotation.

## Parameters

{::nomarkdown}
The <mcode>M5</mcode> command requires no parameters.
{:/nomarkdown}

It simply stops the spindle regardless of its current speed.

## Configuration

The spindle functionality of Smoothie is configured via the [Spindle module](spindle-module).

### Required Setup

{::nomarkdown}
Before using <mcode>M5</mcode>, ensure you have:

- Enabled the spindle module in your configuration
- Configured the appropriate pin for spindle control
- Tested that <mcode>M3</mcode> works correctly (<mcode>M5</mcode> uses the same configuration)
{:/nomarkdown}

## Further reading

These resources are used as references for Gcode:

- [LinuxCNC Gcode list](http://linuxcnc.org/docs/html/gcode.html)
- [Reprap Gcode list](http://reprap.org/wiki/G-code)
