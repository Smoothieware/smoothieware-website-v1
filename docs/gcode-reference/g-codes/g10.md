---
permalink: /g10
---

# {::nomarkdown}<gcode>G10</gcode>{:/nomarkdown} G-code

{::nomarkdown}
<a href="https://www.drdflo.com/assets/img/How-to-build-a-3d-printer/Anatomy-of-FFF-Extruder-01.png">
  <img src="https://www.drdflo.com/assets/img/How-to-build-a-3d-printer/Anatomy-of-FFF-Extruder-01.png" alt="Extruder of a 3D printer head" width="150" height="150" style="float: right; margin-left: 1rem;"/>
</a>
{:/nomarkdown}

## Description

{::nomarkdown}<gcode>G10</gcode>{:/nomarkdown} means "retract the filament from the hotend using the extruder." This is the firmware-controlled alternative to using {::nomarkdown}<gcode>G1</gcode>{:/nomarkdown} commands to retract filament.

{::nomarkdown}<gcode>G10</gcode>{:/nomarkdown}'s counterpart is {::nomarkdown}<gcode>G11</gcode>{:/nomarkdown}, which means "unretract the filament from the hotend using the extruder."

## Configuration

You need to configure the retraction behavior in your [extruder module](extruder)'s [configuration](configuring-smoothie). The retraction parameters control how far and how fast the filament retracts:

{::nomarkdown}
<versioned orientation="vertical">
<v1>
{:/nomarkdown}

**V1 Retraction Settings:**

- {::nomarkdown}<setting v1="extruder.hotend.retract_length"></setting>{:/nomarkdown}: Distance to retract (mm)
- {::nomarkdown}<setting v1="extruder.hotend.retract_feedrate"></setting>{:/nomarkdown}: Speed during retraction (mm/sec)
- {::nomarkdown}<setting v1="extruder.hotend.retract_recover_length"></setting>{:/nomarkdown}: Extra length to push during recovery (mm)
- {::nomarkdown}<setting v1="extruder.hotend.retract_recover_feedrate"></setting>{:/nomarkdown}: Speed during recovery (mm/sec)
- {::nomarkdown}<setting v1="extruder.hotend.retract_zlift_length"></setting>{:/nomarkdown}: Height to lift Z during retraction (mm)
- {::nomarkdown}<setting v1="extruder.hotend.retract_zlift_feedrate"></setting>{:/nomarkdown}: Speed for Z lift (mm/min - note: different units!)

{::nomarkdown}
</v1>
<v2>
{:/nomarkdown}

**V2 Retraction Settings:**

The retraction parameters in V2 are identical to V1:

- {::nomarkdown}<setting v2="extruder.hotend.retract_length"></setting>{:/nomarkdown}: Distance to retract (mm)
- {::nomarkdown}<setting v2="extruder.hotend.retract_feedrate"></setting>{:/nomarkdown}: Speed during retraction (mm/sec)
- {::nomarkdown}<setting v2="extruder.hotend.retract_recover_length"></setting>{:/nomarkdown}: Extra length to push during recovery (mm)
- {::nomarkdown}<setting v2="extruder.hotend.retract_recover_feedrate"></setting>{:/nomarkdown}: Speed during recovery (mm/sec)
- {::nomarkdown}<setting v2="extruder.hotend.retract_zlift_length"></setting>{:/nomarkdown}: Height to lift Z during retraction (mm)
- {::nomarkdown}<setting v2="extruder.hotend.retract_zlift_feedrate"></setting>{:/nomarkdown}: Speed for Z lift (mm/min - note: different units!)

{::nomarkdown}
</v2>
</versioned>
{:/nomarkdown}

By default, most slicing programs will use {::nomarkdown}<gcode>G1</gcode>{:/nomarkdown} commands to retract filament manually, but using firmware-based {::nomarkdown}<gcode>G10</gcode>{:/nomarkdown} retraction is more efficient and allows your slicer to control retraction behavior more precisely.

## When to Use G10

{::nomarkdown}
<sl-alert variant="primary" open>
  <sl-icon slot="icon" name="info-circle"></sl-icon>
  <strong>G10-Based Retraction</strong><br>
  Use firmware retraction ({::nomarkdown}<gcode>G10</gcode>{:/nomarkdown}) when:<br>
  - Your slicer supports it (RepRap, Prusaslicer, Cura, etc.)
  - You want consistent retraction behavior across prints
  - You need to tune retraction without re-slicing
  - You want cleaner, more organized G-code
</sl-alert>
{:/nomarkdown}

## Conflict with CNC Standard

{::nomarkdown}
<sl-alert variant="warning" open>
  <sl-icon slot="icon" name="exclamation-triangle"></sl-icon>
  <strong><gcode>G10</gcode> Command Conflict</strong><br><br>

  <gcode>G10</gcode> means "retract" for 3D printers, but it also means other things for CNC mills.<br><br>

  This conflict is because the Reprap project chose its Gcode without any consideration for the Gcode standard that had existed for decades, and this despite the fact that the real <gcode>G10</gcode> could have been useful for 3D printers.<br><br>

  Smoothie supports both formats: if you use <gcode>G10</gcode> without parameters it will do the 3D printer thing, and if you use it with parameters it will do the CNC mill thing.
</sl-alert>
{:/nomarkdown}

See also: [G-code standard on Wikipedia](http://en.wikipedia.org/wiki/G-code)

### Format

The command is used as such:

```
G10
```

### Parameters

No parameters.

### Further reading

These resources are used as references for Gcode:
* [LinuxCNC Gcode list](http://linuxcnc.org/docs/html/gcode.html)
* [Reprap Gcode list](http://reprap.org/wiki/G-code)
