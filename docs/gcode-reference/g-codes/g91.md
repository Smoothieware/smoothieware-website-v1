---
permalink: /g91
---

# {::nomarkdown}<gcode>G91</gcode>{:/nomarkdown} G-code

{::nomarkdown}
<a href="/images/relative-coords.png">
  <img src="/images/relative-coords.png" alt="Relative Coordinates" width="250" height="250" style="float: right; margin-left: 1rem;"/>
</a>
{:/nomarkdown}

{::nomarkdown}<gcode>G91</gcode>{:/nomarkdown} means "all moves starting now are in relative coordinates".

This means positions are given relative to the current position, and not relative to the 0,0,0 point of the current workspace coordinate system (which is what {::nomarkdown}<gcode>G90</gcode>{:/nomarkdown} does).

When Smoothie starts, {::nomarkdown}<gcode>G90</gcode>{:/nomarkdown} is the default mode, not {::nomarkdown}<gcode>G91</gcode>{:/nomarkdown}.

{::nomarkdown}<gcode>G91</gcode>{:/nomarkdown} is often used when G-code is manually sent to the machine.

{::nomarkdown}<gcode>G91</gcode>{:/nomarkdown}'s evil twin is {::nomarkdown}<gcode>G90</gcode>{:/nomarkdown}.

## Format



The command is used as such:

{::nomarkdown}
<versioned orientation="vertical">
<v1>
{:/nomarkdown}

```
G91
```

Which means: starting now all positions are relative.

{::nomarkdown}
</v1>
<v2>
{:/nomarkdown}

```
G91        ; Standard G91 (subcode 0, default)
G91.0      ; Explicit subcode notation (equivalent to G91)
```

Which means: starting now all positions are relative. V2 supports explicit subcode notation (G91.0) but only subcode 0 is valid.

{::nomarkdown}
</v2>
</versioned>
{:/nomarkdown}



## Parameters

No parameters.



## Subcode

{::nomarkdown}
<versioned orientation="vertical">
<v1>
{:/nomarkdown}

V1 does not support subcodes. {::nomarkdown}<gcode>G91</gcode>{:/nomarkdown} is always interpreted as relative mode.

{::nomarkdown}
</v1>
<v2>
{:/nomarkdown}

**V2 Subcode Support:**

- **0**: Standard relative positioning mode (default if no subcode specified)
- **Other values**: Not supported; returns an error if specified

This design allows for future extensions (e.g., G91.1, G91.2) while maintaining compatibility with existing code.

{::nomarkdown}
</v2>
</versioned>
{:/nomarkdown}



## Implementation Details



{::nomarkdown}
<versioned orientation="vertical">
<v1>
{:/nomarkdown}

**V1 Implementation:**

- Sets both `absolute_mode` and `e_absolute_mode` to false
- Affects X, Y, Z axes AND extruder (E axis)
- Coordinates are interpreted as displacements from the current position
- Workspace offsets (G54-G59, G92, tool offset) are not re-applied for each move
- Modal command (remains active until changed by G90 or M82)

{::nomarkdown}
</v1>
<v2>
{:/nomarkdown}

**V2 Implementation:**

- Sets both `absolute_mode` and `e_absolute_mode` to false (same as V1)
- Includes subcode validation: only subcode 0 is accepted
- Returns an error for invalid subcodes instead of silently accepting them
- Affects X, Y, Z axes AND extruder (E axis)
- Coordinates are interpreted as displacements from the current position
- Workspace offsets (G54-G59, G92, tool offset) are not re-applied for each move
- Modal command (remains active until changed by G90 or M82)

{::nomarkdown}
</v2>
</versioned>
{:/nomarkdown}



## Further reading

These resources are used as references for Gcode:
* [LinuxCNC Gcode list](http://linuxcnc.org/docs/html/gcode.html)
* [Reprap Gcode list](http://reprap.org/wiki/G-code)

See also: {::nomarkdown}<gcode>G90</gcode>{:/nomarkdown} (Absolute positioning mode)
