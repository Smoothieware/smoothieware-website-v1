/**
 * versioned-tag.css
 *
 * Styles for <versioned> custom tags that display version-specific content
 * Shows v1 and v2 content based on user's version preference
 * - Horizontal layout: side-by-side (50/50 split)
 * - Vertical layout: stacked (one above another)
 * - Works without JavaScript (shows both by default)
 * - v1 content: pastel orange accent
 * - v2 content: pastel blue accent
 *
 * Visibility is controlled by data-display-version attribute set by JavaScript:
 * - No attribute or "nc" or "both": show both v1 and v2
 * - "v1": show only v1
 * - "v2": show only v2
 */

/* Base versioned tag container */
versioned {
    /* Block display for proper layout */
    display:         block;

    /* Margin for spacing */
    margin:          1em 0;

    /* Clear floats */
    clear:           both;

    /* Allow nested tags to work properly */
    position:        relative;
}

/* Horizontal layout (default) - side by side */
versioned[orientation="horizontal"],
versioned:not([orientation]),
versioned[orientation=""] {
    display:         flex;
    flex-direction:  row;
    gap:             1em;
    align-items:     stretch;
}

/* Vertical layout - stacked */
versioned[orientation="vertical"] {
    display:         flex;
    flex-direction:  column;
    gap:             1em;
    align-items:     stretch;
}

/* v1 content container */
v1 {
    /* Block display */
    display:         block;

    /* Background and border */
    background:      #1a1a1a;
    border:          2px solid #ffd966; /* Pastel orange accent */
    border-radius:   6px;

    /* Padding */
    padding:         1em;

    /* Flex grow for horizontal layout */
    flex:            1;

    /* Minimum width */
    min-width:       0;

    /* Box sizing */
    box-sizing:      border-box;

    /* Position for label */
    position:        relative;
}

/* v2 content container */
v2 {
    /* Block display */
    display:         block;

    /* Background and border */
    background:      #1a1a1a;
    border:          2px solid #7ec8ed; /* Pastel blue accent */
    border-radius:   6px;

    /* Padding */
    padding:         1em;

    /* Flex grow for horizontal layout */
    flex:            1;

    /* Minimum width */
    min-width:       0;

    /* Box sizing */
    box-sizing:      border-box;

    /* Position for label */
    position:        relative;
}

/* Version labels */
v1::before,
v2::before {
    /* Content */
    content:         attr(data-version);

    /* Display */
    display:         inline-block;

    /* Position */
    position:        absolute;
    top:             -12px;
    left:            10px;

    /* Background */
    background:      #1a1a1a;

    /* Padding */
    padding:         2px 8px;

    /* Typography */
    font-size:       0.75em;
    font-weight:     700;
    text-transform:  uppercase;
    letter-spacing:  0.5px;

    /* Border radius */
    border-radius:   3px;

    /* Z-index */
    z-index:         1;
}

/* v1 label */
v1::before {
    content:         "V1";
    color:           #ffd966; /* Pastel orange */
    border:          1px solid #ffd966;
}

/* v2 label */
v2::before {
    content:         "V2";
    color:           #7ec8ed; /* Pastel blue */
    border:          1px solid #7ec8ed;
}

/* Typography inside v1 and v2 */
v1, v2 {
    font-family:     'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size:       0.95em;
    line-height:     1.6;
    color:           #ecf0f1;
}

/* Allow other tags inside versioned content to work */
v1 setting,
v1 pin,
v2 setting,
v2 pin {
    /* Preserve tag styling */
    display:         inline-flex;
}

/* Ensure nested content works properly */
v1 > *:first-child,
v2 > *:first-child {
    margin-top:      0;
}

v1 > *:last-child,
v2 > *:last-child {
    margin-bottom:   0;
}

/* ============================================================================
   VERSION VISIBILITY CONTROL
   ============================================================================
   JavaScript sets data-display-version attribute on <versioned> elements
   CSS hides v1 or v2 content based on this attribute
   ============================================================================ */

/* When showing only v1: hide v2 */
versioned[data-display-version="v1"] v2 {
    display:         none;
}

/* When showing only v2: hide v1 */
versioned[data-display-version="v2"] v1 {
    display:         none;
}

/* Default (no attribute, "nc", or "both"): show both - no hiding needed */
/* versioned elements without data-display-version show both by default */
/* versioned[data-display-version="nc"] shows both */
/* versioned[data-display-version="both"] shows both */

/* ============================================================================
   RESPONSIVE BEHAVIOR
   ============================================================================ */

/* On narrow screens, force vertical layout for horizontal versioned tags */
@media (max-width: 768px) {
    versioned[orientation="horizontal"],
    versioned:not([orientation]),
    versioned[orientation=""] {
        flex-direction:  column;
    }
}

/* ============================================================================
   PRINT STYLES
   ============================================================================ */

@media print {
    versioned {
        page-break-inside: avoid;
    }

    v1, v2 {
        border:          1px solid #000;
        background:      #fff;
        color:           #000;
    }

    v1::before,
    v2::before {
        background:      #fff;
        color:           #000;
    }
}
