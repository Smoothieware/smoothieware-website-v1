# USB PID VID are '0000'

*Original post date: 2016-01-01*

---

The issue of a USB device showing `PID` and `VID` as `0000` typically indicates that the device is not properly enumerating on the USB bus. This can happen due to hardware issues, incorrect kernel module configuration, or missing firmware. Below are steps to troubleshoot and potentially resolve the problem:

---

### **1. Verify Hardware and Connection**
- **Test with another cable/USB port**: Faulty cables or USB ports can prevent proper enumeration.
- **Try on another computer**: If the device works elsewhere, the issue is likely with your Linux system's configuration.
- **Check for physical damage**: Ensure the device is not damaged.

---

### **2. Check Kernel Logs with `dmesg`**
Run the following command to inspect kernel logs for USB-related errors:
```bash
dmesg | grep -i usb

Look for messages like:
- `device not accepting address`
- `unable to enumerate`
- `no driver` or `unknown device`

These can indicate:
- A hardware issue (e.g., faulty device)
- Missing kernel modules
- Incorrect USB configuration

---

### **3. Load the Correct Kernel Module**
If the device is not recognized, ensure the appropriate kernel module is loaded. For example:
- **Serial devices**: Load `usbserial` or specific drivers like `pl2303` (for FTDI chips):
  ```bash
  sudo modprobe usbserial
  ```
- **Check loaded modules**:
  ```bash
  lsmod | grep usb
  ```

If the module is not loaded, try:
```bash
sudo modprobe <module-name>

---

### **4. Use `lsusb -v` for Detailed Info**
Run:
```bash
lsusb -v

Look for the device in the output. If it doesn't appear, the device is not enumerating. If it does appear but shows `0000:0000`, the device may not have a valid VID/PID programmed.

---

### **5. Create a `udev` Rule (Advanced)**
If the device is recognized but not assigned a VID/PID, you can force it using a `udev` rule. For example:
1. Create a file:
   ```bash
   sudo nano /etc/udev/rules.d/99-usb-force-vid-pid.rules
   ```
2. Add a rule matching the device (e.g., by `idVendor`, `idProduct`, or other attributes):
   ```bash
   SUBSYSTEM=="usb", ATTR{idVendor}=="1234", ATTR{idProduct}=="5678", MODE="0666", GROUP="plugdev"
   ```
   Replace `1234` and `5678` with the actual values from `lsusb` (if available).

3. Reload `udev`:
   ```bash
   sudo udevadm control --reload-rules
   sudo udevadm trigger
   ```

---

### **6. Check for Missing Firmware**
Some USB devices require firmware to be loaded. Check if firmware is missing:
```bash
sudo fwupdmgr get-devices

If firmware is missing, install it using:
```bash
sudo fwupdmgr update

---

### **7. Use `usbutils` for Debugging**
Install `usbutils` for more detailed debugging:
```bash
sudo apt install usbutils

Run:
```bash
usb-devices

This provides detailed information about connected USB devices.

---

### **8. Consider Kernel Parameters**
If the device is a low-speed or non-standard device, you might need to adjust kernel parameters. For example:
```bash
sudo nano /etc/default/grub

Add `usbcore.quirks=...` (specific to your device) to `GRUB_CMDLINE_LINUX`, then:
```bash
sudo update-grub
sudo reboot

---

### **9. Re-flash the Device Firmware**
If the device is a custom or DIY hardware (e.g., a CNC controller, Arduino, etc.), the VID/PID might be hardcoded in firmware. Re-flashing the firmware with a valid VID/PID could resolve the issue.

---

### **10. Report the Issue**
If the device is commercial and the problem persists:
- Contact the manufacturer for firmware updates or driver support.
- Check the device's documentation for Linux compatibility.

---

### **Summary**
| Step | Action |
|------|--------|
| 1 | Test hardware and connections |
| 2 | Check `dmesg` for USB errors |
| 3 | Load appropriate kernel modules |
| 4 | Use `lsusb -v` for device details |
| 5 | Create `udev` rules if needed |
| 6 | Check for missing firmware |
| 7 | Use `usbutils` for debugging |
| 8 | Adjust kernel parameters |
| 9 | Re-flash device firmware |
| 10 | Contact manufacturer for support |

If the device is not recognized at all (not even in `dmesg`), it may be a hardware failure. If it appears but with `0000:0000`, the issue is likely with the device's firmware or kernel configuration.

---

*This post was archived from the old Smoothieware forum.*
*Source: [Wayback Machine](https://web.archive.org/web/20151008164116/http://smoothieware.org/forum/t-1047411/usb-pid-vid-are-0000)*
